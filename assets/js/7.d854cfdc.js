(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{448:function(e,o,t){},450:function(e,o,t){},499:function(e,o,t){var s=t(2),i=t(500);s({global:!0,forced:parseFloat!=i},{parseFloat:i})},500:function(e,o,t){var s=t(4),i=t(138).trim,n=t(139),c=s.parseFloat,r=1/c(n+"-0")!=-1/0;e.exports=r?function(e){var o=i(String(e)),t=c(o);return 0===t&&"-"==o.charAt(0)?-0:t}:c},501:function(e,o,t){"use strict";var s=t(450);t.n(s).a},515:function(e,o,t){"use strict";t.r(o);t(53),t(223),t(499),t(221),t(224),t(54),t(39),t(448);var s={data:function(){return{songMsg:{name:"A Foot print Of Feelings –– Moonlit Sailor",totalTime:"03:22",currenTime:"00:00",isPlay:!1},isShowVolumeBar:!1,isShowMusicBar:!1,songList:[{url:"https://my-blog-leo.oss-cn-chengdu.aliyuncs.com/%E5%85%B3%E5%A4%A7%E6%B4%B2%20-%20%E5%B0%91%E5%B9%B4%E6%B8%B8.mp3",name:"关大洲 - 少年游",totalTime:"02:53",img:"https://my-blog-leo.oss-cn-chengdu.aliyuncs.com/gjbz.jpg"},{url:"https://my-blog-leo.oss-cn-chengdu.aliyuncs.com/%E5%85%B3%E5%A4%A7%E6%B4%B2-%E5%A4%9C%E5%87%89.mp3",name:"关大洲-夜凉",totalTime:"04:52",img:"https://my-blog-leo.oss-cn-chengdu.aliyuncs.com/gjbz.jpg"},{url:"https://my-blog-leo.oss-cn-chengdu.aliyuncs.com/%E5%85%B3%E5%A4%A7%E6%B4%B2-%E6%8A%98%E6%9F%B3.mp3",name:"关大洲-折柳",totalTime:"04:07",img:"https://my-blog-leo.oss-cn-chengdu.aliyuncs.com/gjbz.jpg"},{url:"https://my-blog-leo.oss-cn-chengdu.aliyuncs.com/%E4%B9%9D%E5%B7%9E%E5%90%8C.mp4",name:"九州同 - 阿地力·阿不力孜 / 缪青 / 丁晓逵 / 牛建党",totalTime:"03:15",img:"https://my-blog-leo.oss-cn-chengdu.aliyuncs.com/gjbz.jpg"},{url:"https://my-blog-leo.oss-cn-chengdu.aliyuncs.com/%E5%85%B3%E5%A4%A7%E6%B4%B2%20-%20%E9%A3%8E%E5%85%A5%E6%9D%BE.mp3",name:"风入松-(关大洲)",totalTime:"02:45",img:"https://my-blog-leo.oss-cn-chengdu.aliyuncs.com/%E9%A3%8E%E5%85%A5%E6%9D%BE.jpeg"},{url:"https://my-blog-leo.oss-cn-chengdu.aliyuncs.com/%E6%B8%85%E5%B9%B3%E4%B9%90.mp3",name:"清平乐-(关大洲)",totalTime:"02:08",img:"https://my-blog-leo.oss-cn-chengdu.aliyuncs.com/%E6%B8%85%E5%B9%B3%E4%B9%90.jpeg"},{url:"https://my-blog-leo.oss-cn-chengdu.aliyuncs.com/%E9%81%A0%E3%81%8D%E5%91%BC%E3%81%B2%E3%82%99%E5%A3%B0%E3%81%AE%E5%BD%BC%E6%96%B9%E3%81%B8%20%E2%80%93%E2%80%93%E7%9F%A2%E9%87%8E%E7%AB%8B%E7%BE%8E%20%28%E3%82%84%E3%81%AE%20%E3%81%9F%E3%81%A4%E3%81%BF%29.mp3",name:"遠き呼び声の彼方へ-(やの たつみ)",totalTime:"03:43",img:"https://my-blog-leo.oss-cn-chengdu.aliyuncs.com/ligth.jpeg"},{url:"https://my-blog-leo.oss-cn-chengdu.aliyuncs.com/Geoff%20Knorr%20-%20China%20%28The%20Atomic%20Era%29.mp3",name:"Geoff Knorr - China (The Atomic Era)",totalTime:"03:19",img:"https://my-blog-leo.oss-cn-chengdu.aliyuncs.com/China.jpeg"},{url:"https://my-blog-leo.oss-cn-chengdu.aliyuncs.com/rain%20and%20thunder.mp3",name:"Rain And Thunder",totalTime:"02:29",img:"https://my-blog-leo.oss-cn-chengdu.aliyuncs.com/rain.jpeg"}],currentSong:0,isFirst:!0}},mounted:function(){var e=this;window.navigator.appVersion.includes("iPad")&&document.querySelectorAll(".line-numbers-wrapper").forEach((function(e){e.style.lineHeight=1.2})),this.$audioSource=document.querySelector(".song-souce"),this.$audioSource.volume=.0075,this.$songTtile=document.querySelector(".song-title"),this.$songImg=document.querySelector(".song-img");var o=document.querySelector(".volume-active"),t=document.querySelector(".song-progress-active");o.style.width=4*this.$audioSource.volume*100+"%",this.$audioSource.addEventListener("ended",(function(){e.songMsg.isPlay=!1,e.pauseMusic(),e.StopSongTitleMove(),t.style.width=0,e.currentSong=(e.currentSong+1)%e.songList.length,e.$audioSource.addEventListener("loadeddata",(function(){e.StopSongTitleMove(),e.songMsg.isPlay=!1,e.playHandler()}))})),this.$audioSource.addEventListener("loadeddata",(function(){e.isFirst||(e.StopSongTitleMove(),e.songMsg.isPlay=!1,e.playHandler()),e.isFirst=!1}))},methods:{startSongTitleMove:function(){var e=this,o=this.$songTtile.style.marginLeft?parseInt(this.$songTtile.style.marginLeft):0;this.$timer=setInterval((function(){o>=-e.$songTtile.clientWidth?o-=5:o=document.querySelector(".song-title-con").clientWidth,e.$songTtile.style.marginLeft=o+"px"}),100)},StopSongTitleMove:function(){clearInterval(this.$timer),this.$songTtile.style.marginLeft="0px"},playHandler:function(){this.songMsg.isPlay=!this.songMsg.isPlay,this.songMsg.isPlay?(this.startSongTitleMove(),this.playMusic()):(this.pauseMusic(),this.StopSongTitleMove())},progressMouseDownHandler:function(e){var o,t=this,s=document.querySelector(".song-progress-line"),i=document.querySelector(".song-progress-active"),n=s.getBoundingClientRect(),c=!0,r=function(e){var t=e.clientX-n.left;t<=0?t=0:t>n.width&&(t=n.width),o=t/n.width,i.style.width=100*o+"%"};this.mousemove=r;document.addEventListener("mousemove",r),document.addEventListener("mouseup",(function e(){if(c)try{c=!1,t.$audioSource.currentTime=t.$audioSource.duration*o,document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",e)}catch(e){}}))},progressClickHandler:function(e){document.removeEventListener("mousemove",this.mousemove);var o=document.querySelector(".song-progress-line"),t=document.querySelector(".song-progress-active"),s=o.getBoundingClientRect(),i=e.clientX-s.left;i<=0?i=0:i>s.width&&(i=s.width);var n=i/s.width;t.style.width=100*n+"%",this.$audioSource.currentTime=this.$audioSource.duration*n},volumeCilck:function(){var e=this;this.isShowVolumeBar=!this.isShowVolumeBar,this.isShowVolumeBar&&(this.$volumeTimer=setTimeout((function(){e.isShowVolumeBar=!1,clearTimeout(e.$volumeTimer)}),2e3))},closeMusicBar:function(e){var o=document.querySelector(".galloping-audio-outer"),t=document.querySelector(".show-arrow");o.classList.remove("show"),o.classList.add("hidden"),t.classList.remove("hidden"),t.classList.add("show")},volumeMouseDown:function(){var e=this;clearTimeout(this.$volumeTimer);var o=document.querySelector(".volume-bar-outer"),t=document.querySelector(".volume-active"),s=o.getBoundingClientRect();this.$audioSource=document.querySelector(".song-souce");var i=function(o){clearTimeout(e.$volumeTimer);var i=o.clientX-s.x;i<=0?i=0:i>s.width-4&&(i=s.width),t.style.width=i/s.width*100+"%";var n=parseFloat(i/s.width);console.log(.5*n*.5),document.querySelector(".song-souce").volume=.5*n*.5};document.addEventListener("mousemove",i),document.addEventListener("mouseup",(function(o){document.removeEventListener("mousemove",i),clearTimeout(e.$volumeTimer),e.$volumeTimer=setTimeout((function(){e.isShowVolumeBar=!1,clearTimeout(e.$volumeTimer)}),2e3)}))},volumeBarClick:function(e){var o=this;clearTimeout(this.$volumeTimer);var t=document.querySelector(".volume-bar-outer"),s=document.querySelector(".volume-active"),i=t.getBoundingClientRect(),n=e.clientX-i.x;n<=0?n=0:n>i.width-4&&(n=i.width),s.style.width=n/i.width*100+"%";var c=parseFloat(n/i.width);console.log(.5*c*.5),document.querySelector(".song-souce").volume=.5*c*.5,this.$volumeTimer=setTimeout((function(){o.isShowVolumeBar=!1,clearTimeout(o.$volumeTimer)}),2e3)},playMusic:function(){var e=this;console.log("播放音乐");var o=document.querySelector(".song-progress-active");this.$audioSource.play(),this.$songSourceTimer=setInterval((function(){var t=parseInt(e.$audioSource.currentTime/60),s=parseInt(e.$audioSource.currentTime%60);t<10&&(t="0"+t),s<10&&(s="0"+s),e.songMsg.currenTime=t+":"+s;var i=e.$audioSource.currentTime/e.$audioSource.duration*100;o.style.width=i+"%"}),1e3)},pauseMusic:function(){this.$audioSource.pause(),clearInterval(this.$songSourceTimer)},playPreSong:function(){var e=document.querySelector(".song-progress-active");this.songMsg.isPlay=!1,this.pauseMusic(),this.StopSongTitleMove(),e.style.width=0,this.songMsg.currenTime="00:00";var o=this.currentSong;0===this.currentSong&&(o=this.songList.length),this.currentSong=(o-1)%this.songList.length,this.songMsg.isPlay||(this.StopSongTitleMove(),this.songMsg.isPlay=!1,this.playHandler())},playNextSong:function(){var e=document.querySelector(".song-progress-active");this.songMsg.isPlay=!1,this.pauseMusic(),this.StopSongTitleMove(),e.style.width=0,this.songMsg.currenTime="00:00",this.currentSong=(this.currentSong+1)%this.songList.length}}},i=(t(501),t(6)),n=Object(i.a)(s,(function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"galloping-audio-outer show"},[t("div",{staticClass:"main-outer"},[t("div",{staticClass:"audio-container"},[t("div",{staticClass:"audio-arrow-outer",on:{click:e.closeMusicBar}},[t("i",{staticClass:"iconfont icon-windowclose audio-arrow"})]),e._v(" "),t("div",{staticClass:"img-con"},[t("img",{class:{"song-img":!0,rotate:e.songMsg.isPlay},attrs:{src:e.songList[e.currentSong].img}})]),e._v(" "),t("div",{staticClass:"right-con"},[t("div",{staticClass:"song-title-con"},[t("div",{staticClass:"song-title"},[e._v(e._s(e.songList[e.currentSong].name))])]),e._v(" "),t("div",{staticClass:"right-bottom-con"},[t("i",{staticClass:"iconfont icon-skipprevious",on:{click:e.playPreSong}}),e._v(" "),t("i",{class:{iconfont:!0,"icon-pause":e.songMsg.isPlay,"icon-play":!e.songMsg.isPlay},on:{click:e.playHandler}}),e._v(" "),t("i",{staticClass:"iconfont icon-skipnext",on:{click:e.playNextSong}}),e._v(" "),t("div",{staticClass:"timeStart"},[e._v(e._s(e.songMsg.currenTime))]),e._v(" "),t("div",{staticClass:"song-progress-line",on:{mousedown:e.progressMouseDownHandler,click:e.progressClickHandler}},[e._m(0)]),e._v(" "),t("div",{staticClass:"timeEnd"},[e._v(e._s(e.songList[e.currentSong].totalTime))]),e._v(" "),t("i",{staticClass:"iconfont icon-volumehigh",on:{click:e.volumeCilck}})])]),e._v(" "),t("div",{class:{"volume-bar-outer":!0,show:e.isShowVolumeBar,hidden:!e.isShowVolumeBar},on:{mousedown:e.volumeMouseDown,click:e.volumeBarClick}},[t("div",{staticClass:"volume-active"})])])]),e._v(" "),t("audio",{staticClass:"song-souce",attrs:{src:e.songList[e.currentSong].url}})])}),[function(){var e=this.$createElement,o=this._self._c||e;return o("div",{staticClass:"song-progress-active"},[o("div",{staticClass:"song-progress-dot"})])}],!1,null,null,null);o.default=n.exports}}]);
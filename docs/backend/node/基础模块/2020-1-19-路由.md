---
title: "路由"
date: 2020-01-19
sidebar: 'auto'
categories:
- BackEnd
tags:
- node基础模块
---






# 路由

> `http://localhost:3000/index`
> `http://localhost:3000/login`
> 路由是指客户端请求地址与服务器端程序代码的对应关系。简单的说，就是请求什么响应什么

<img src="\img\路由示意.PNG" >

代码示例

```javascript
/*
 * 实现路由功能的步骤
 * 1. 获取请求方式
 * 2. 获取请求地址
*/

const http = require('http')
const url = require('url')
const querystring = require('querystring')

const server = http.createServer()

server.on('request', (req, res) => {
    let method = req.method
    let { pathname } = url.parse(req.url)

    res.writeHead(200, {
        'content-type': 'text/plain;charset=utf8',
    })
    if (method === 'GET') {
        if (pathname === '/' || pathname === '/index') {
            res.end('欢迎来到首页')
        } else if (pathname === '/about') {
            res.end('欢迎来到abut页面')
        } else {
            res.end('404')
        }
    } else if (method === 'POST') {
        let postParams = ''
        req.on('data', params => {
            postParams += params
        })
        req.on('end', () => {
            let data = querystring.parse(postParams)
            res.writeHead(200, {
                'content-type': 'application/json;charset=utf8',
            })
            res.end(JSON.stringify(data))
        })
    }
})


server.listen(3000)

console.log('服务器启动成功')
```


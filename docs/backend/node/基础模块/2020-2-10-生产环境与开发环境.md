---
title: "生产环境与开发环境"
date: 2020-02-10
sidebar: 'auto'
categories:
- BackEnd
tags:
- node基础模块
---













# 生产环境与开发环境

## 开发环境

环境，就是指项目运行的地方，当项目处于开发阶段，项目运行在开发人员的电脑上，项目所处的环境就是开发环境。

## 生产环境

当项目开发完成以后，要将项目放到真实的网站服务器电脑中运行，项目所处的环境就是生产环境。

## 为什么要区分这两种环境

因为在不同的环境中，项目的配置是不一样的，需要在项目代码中判断当前项目运行的环境，根据不同的环境应用不同的项目配置。

## 区分开发环境与生产环境

通过电脑操作系统中的系统环境变量区分当前是开发环境还是生产环境。

设置一个名为`NODE_ENV`的系统环境变量，用它来标识当前项目处于的环境，程序运行时可以通过它来得知当前的运行环境，`development`表示开发环境 `production`表示生产环境。环境变量设置完成后，在成程序中可以用`process.env.NODE_ENV`来获取

<img src="https://my-blog-leo.oss-cn-chengdu.aliyuncs.com/23.png" alt="image-20200209090126320.png" />

`process.env.NODE_ENV    // developmet`

<img src="https://my-blog-leo.oss-cn-chengdu.aliyuncs.com/24.png" alt="image-20200209090136950.png" />

`process.env.NODE_ENV    // production`

## 打印客户端的请求信息

需要使用到第三方模块`morgan`这个模块是`express`框架的中间件函数

```js
const morgan = require('morgan')

if (process.env.NODE_ENV == 'production') {
    console.log('当前是生产环境')
} else {
    console.log('当前是开发环境')
    //在开发环境中 将客户端发送的请求信息打印到控制台中
    app.use(morgan('dev'))
}
```

当有请求时，在客户端会打印请求信息。

```shell
GET /admin/login 200 10.734 ms - 2114 // 请求方式|路由地址|状态码|请求时间|
```







